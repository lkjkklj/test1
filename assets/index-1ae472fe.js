import{d as I,u as S,r as m,a as U,b as k,c as C,e as r,o as B,f as F,g as e,w as t,h as a,i as b,l as H,j as P,E as f,p as R,k as T,m as g,_ as $}from"./index-e296d5bf.js";import{g as j}from"./time-e894181e.js";const w=n=>(R("data-v-ee2d5cad"),n=n(),T(),n),z={class:"login_container"},L=w(()=>g("h1",null,"Hello",-1)),q=w(()=>g("h2",null,"欢迎来到个人仓库",-1)),A=I({__name:"index",setup(n){let v=S(),p=m(),x=U();k();let d=m(!1),l=C({username:"admin",password:"atguigu123"});const h=async()=>{await p.value.validate(),d.value=!0;try{await v.userLogin(l),x.push("/"),f({type:"success",message:"欢迎回来",title:`HI,${j()}好`}),d.value=!1}catch(i){d.value=!1,f({type:"error",message:i.message})}},y={username:[{trigger:"change",validator:(i,o,s)=>{o.length>=5?s():s(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(i,o,s)=>{o.length>=6?s():s(new Error("密码长度至少六位"))}}]};return(i,o)=>{const s=r("el-col"),c=r("el-input"),u=r("el-form-item"),V=r("el-button"),N=r("el-form"),E=r("el-row");return B(),F("div",z,[e(E,null,{default:t(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:t(()=>[e(N,{class:"login_form",model:a(l),rules:y,ref_key:"loginForms",ref:p},{default:t(()=>[L,q,e(u,{prop:"username"},{default:t(()=>[e(c,{"prefix-icon":a(b),modelValue:a(l).username,"onUpdate:modelValue":o[0]||(o[0]=_=>a(l).username=_)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,{prop:"password"},{default:t(()=>[e(c,{type:"password","prefix-icon":a(H),modelValue:a(l).password,"onUpdate:modelValue":o[1]||(o[1]=_=>a(l).password=_),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(V,{loading:a(d),class:"login_btn",type:"primary",size:"default",onClick:h},{default:t(()=>[P(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const M=$(A,[["__scopeId","data-v-ee2d5cad"]]);export{M as default};
